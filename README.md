# magv

macOS 向けの漫画ビューワです。名前は MAnGa Viewer の略で、読み方は「マグヴ」です。

> [!WARNING]
> あくまでも作者が自分のために作ったものであり、現時点ではまだ汎用的なアプリとしての機能や作り込みは足りていません。

使用している技術スタックは以下のようなものです。

- Tauri : アプリのフレームワーク
- TypeScript : ほとんどのコードを TypeScript で記述しています
- React : 素の React を使っています
- Jotai : アプリの状態管理に使用しています

> [!IMPORTANT]
> macOS Sequoia のみで動作を確認しています。
> 
> 恐らく Mac でしか動かない可能性大です。Windows ならほぼ間違いなく動かないはずで、もしかしたら Linux なら動くかもしれません（未検証）。

## 導入方法

今のところバイナリでの配布は行っていません。使う場合は自前でのビルドをお願いします。

多分、Rust と Node.js の開発環境をインストールし、リポジトリを clone してから `npm i` (または `pnpm i`) の後に `pnpm tauri build` でビルドされるはずです。

## 使い方・機能

- 画像が圧縮された zip ファイルをウィンドウへドロップすることで開けます。
- 現状、画像の並びと操作は右開き（普通の漫画の開き方向）のみに対応しています。

### キーボード操作（右開き時）

キー | 挙動 | 詳細
-- | -- | --
← | 次のページへ移動 | 見開き単位で移動
→ | 前のページへ移動 | 見開き単位で移動
Shift + ← | 次の画像へ移動 | 画像1枚のみ移動
Shift + → | 前の画像へ移動 | 画像1枚のみ移動
⌘ + ←<br />Home | 最後の画像へ移動 | 
⌘ + →<br />End | 最初の画像へ移動 | 
↓ | 次のアーカイブを開く | 
↑ | 前のアーカイブを開く | 
Enter | リネームビューを開く | 開いているアーカイブファイルの名前を変更する<br />ビューで名前(拡張子抜き)を入力後 Enter でリネームを実行<br />Esc でリネームせず閉じる
f | ファイル名で検索 | 開いているアーカイブのファイル名を DuckDuckGo で検索した結果を Web ブラウザで開く

左開きのときは次/前の移動操作が逆転します。

## モチベーション

作者が久しぶりに Windows から Mac へ戻ってみたところ、自分が求める機能（下記リスト）を持った漫画ビューワがないことに気付いたため、自作しました。

- ファイル関連
  - [x] zip ファイルをウィンドウにドロップして開ける
  - [x] アーカイブファイルを上下で切り替えられる
  - [x] アーカイブファイルの切替はフォルダ内でループしない
- 画像閲覧関連
  - [x] 右開きで表示し、見開きに対応
  - [x] 左右キーでページ遷移
  - [x] Shift+左右キーで1枚遷移
  - [x] マウスホイールで左右遷移
  - [x] 左右遷移はループや別フォルダ（アーカイブ閲覧時は次ファイル）への移動はしない
  - [x] 各アーカイブで最後に閲覧した画像を、起動中のみ保持する（アプリを立ち上げ直したらリセット）
  - [x] 閲覧ページのインジケーターを表示

## 将来の機能追加予定

機能が足りていない部分が多いため、順次追加していく予定です。

- [x] 常に画像を1枚のみ表示する機能
- [x] 左開き対応
- [x] 画像ファイル（アーカイブではない）の表示への対応
- [ ] メニュー
- [x] 表示・機能の切替ビュー
- [ ] 設定による動作カスタマイズ
  - [ ] キーボードショートカット
  - [ ] マウスホイール操作
- [x] ルーペ機能（→ 実装したものの、微妙にズレます）
- [ ] スライドショー
- [x] アプリ自体のアイコン

その他、運用の整備（バージョン管理、配布方法）も行っていく予定です。
